pipeline{
  agent any
  
  environment {
        FILE_LOCATION = 'example-voting-app/vote/' 
    }


  stages{
    
    stage('buildDockerImage'){
      steps{
        sh ''' 
          cd ${FILE_LOCATION}
          docker build -t voteapp . 
        '''
      }
    }
    
    stage('pushingImage'){
      steps{
        sh ' docker push najamarcana/voteapp:latest '
      }
    }
    
    stage('runDockerImage'){
      steps{
        sh ' docker run -p 5000:80 voteapp '
      }
    }
    
    
    
  }
}
